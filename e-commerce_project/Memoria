# Práctica 1 - Sistema de pago para un e-commerce

## 1. Introducción
En esta práctica he desarrollado un sistema de pago para un e-commerce de cursos online.
La idea es que el usuario pueda elegir un método de pago y realizar una compra de forma sencilla.

Los métodos de pago disponibles son:
- Tarjeta de crédito
- PayPal
- Bizum

El objetivo principal ha sido practicar Programación Orientada a Objetos, usando herencia, abstracción y polimorfismo, además de hacer validaciones para comprobar que los datos introducidos sean correctos antes de procesar el pago.

---

## 2. Estructura del proyecto
El proyecto está organizado en varias clases, cada una con su función:

- **MetodoPago**: clase abstracta común para todos los métodos de pago.
- **TarjetaCredito**: método de pago con tarjeta y validación de número y tipo.
- **Paypal**: método de pago con validación del correo y saldo.
- **Bizum**: método de pago con validación de teléfono y PIN.
- **Tienda**: gestiona el menú, crea los objetos y controla el flujo del programa.
- **AppEcommerce**: contiene el `main()` y arranca la aplicación.

---

## 3. Explicación general del funcionamiento

### 3.1 MetodoPago
Es una clase abstracta que contiene el método `procesarPago(double importe)`.
La idea es que todos los métodos de pago hereden de esta clase y estén obligados a implementar ese método.

Esto sirve para trabajar con polimorfismo y poder procesar pagos sin importar qué método se use.

---

### 3.2 TarjetaCredito
Esta clase permite realizar pagos con tarjeta.

Contiene los atributos:
- `nro_tarjeta`
- `tipo`

El método más importante es `validarTarjeta()`, que comprueba:
- que el número tenga 16 caracteres
- que sean solo números
- que el tipo sea VISA, MASTERCARD o MAESTRO

Si todo es correcto, se permite realizar el pago.

---

### 3.3 Paypal
Esta clase representa el pago con PayPal.

Atributos:
- `cuenta`
- `saldo` (por defecto 23€)

Tiene un método `validarPaypal(double importe)` que valida:
- formato correcto del correo
- que el importe sea mayor que 0
- que el saldo sea suficiente

Si pasa la validación, se procesa el pago.

---

### 3.4 Bizum
Esta clase representa el pago con Bizum.

Atributos:
- `telefono`
- `pin`

El pin se genera aleatoriamente en el constructor y se imprime por pantalla (como indica el enunciado, para poder probarlo).

El método `validarbizum(String pin_usuario)` comprueba:
- que el teléfono tenga 9 dígitos numéricos
- que el pin tenga 6 dígitos
- que el pin introducido coincida con el generado

---

### 3.5 Tienda
Esta es la clase que gestiona prácticamente todo.

Tiene dos métodos importantes:

- `iniciarPago()`: muestra el menú, pide los datos al usuario, crea el método de pago correspondiente y valida.
- `realizarPago(MetodoPago metodo)`: pide el importe y llama a `procesarPago()`.

En esta parte se usa polimorfismo porque se trabaja con el tipo `MetodoPago`, pero realmente puede ser un objeto TarjetaCredito, Paypal o Bizum.

---

### 3.6 AppEcommerce
Es la clase principal que contiene el `main()`.

Simplemente llama a `Tienda.iniciarPago()` para empezar el programa.

---

## 4. Plan de pruebas
Para comprobar que el programa funciona bien, se han hecho varias pruebas manuales:

### Tarjeta de crédito
- Tarjeta válida (16 dígitos y tipo correcto)
- Tarjeta con menos de 16 dígitos
- Tarjeta con letras
- Tipo incorrecto (por ejemplo AMEX)

### PayPal
- Correo válido y saldo suficiente
- Correo sin formato correcto
- Saldo insuficiente
- Importe negativo o 0

### Bizum
- Teléfono válido y pin correcto
- Teléfono incorrecto (menos de 9 dígitos o con letras)
- Pin incorrecto
- Pin con menos de 6 dígitos

---

## 5. Pruebas unitarias (JUnit5)
Se han realizado pruebas unitarias con JUnit5 para comprobar que las validaciones funcionan correctamente, especialmente:

- `validarTarjeta()`
- `validarPaypal()`
- `validarbizum()`

---

## 6. Documentación Javadoc
Se ha generado la documentación Javadoc desde IntelliJ IDEA.

Los archivos generados se encuentran en la carpeta `Docs/` y se pueden consultar abriendo el archivo `index.html`.

---

## 7. Conclusión
Esta práctica me ha servido para practicar la Programación Orientada a Objetos en Java, especialmente el uso de clases abstractas, herencia y polimorfismo.

También me ha ayudado a trabajar validaciones de datos usando `matches()`, comparaciones de Strings y comprobaciones de rangos antes de permitir procesar un pago.
